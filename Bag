#include<stdio.h>  
#define Num 4
#define Max (Num+1)
#define wn (Num+1)
#define vn (Num+1)
int maxNum[Max];  //存放最优解的编号  
int maxValue=0; //存放最大价值  
int w[wn] = {0,2,3,4,7};//每个物品的重量，第一个为0，方便角标对应  
int v[vn] = {0,1,3,5,9};//每个物品的价值，第一个为0，方便角标对应  
int num = Num; //物品的个数    
int cap = 10; //背包能容的重量     
  
void package01(int *flag,int n,int c,int nowValue)  
{  
    int i;  
    if(n == 0 || c == 0)  
    {  
        if(nowValue > maxValue)  
        {     
            for(i=0;i<6;i++)  
                maxNum[i] = flag[i];   
            maxValue = nowValue;  
        }  
        return;  
    }  
      
    if(c >= w[n])  
    {  
        flag[n] = 1;  
        package01(flag, n-1, c-w[n], nowValue+v[n]);  
    }  
    flag[n] = 0;  
    package01(flag, n-1, c, nowValue);    
}  
  
int main()  
{  
    int flag[Num+1] = {0,0,0,0,0};    
    int i;    
    package01(flag,num,cap,0);    
    for(i=1;i<=num;i++)  
        maxNum[i] == 1 ? printf("第%d号货物装入包中  \n",i) : 0;  
    printf("最大价值为:%d  \n",maxValue);  
}  
